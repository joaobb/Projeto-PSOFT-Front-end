<!DOCTYPE html>
<html>
<head>
    <meta charset=utf8>
    <title>UCDb</title>
    />
</head>
<body>
    <form name="signUp" onsubmit="return auth()">
        First Name: 
        <input type="text" name="firstName" value ="Jose">
        <br>
        Last name:  
        <input type="text" name="lastName" value="De Dev">
        <br>
        Email:  
        <input type="text" name="email" value="jose@de.dev">
        <br>
        Senha:  
        <input type="password" name="password" value="isthebest">
        <input type="submit" value="Submit">
      </form> 


<script>
    function data() {
      const $firstName = document.forms["signUp"]["firstName"].value
      const $lastName = document.forms["signUp"]["lastName"].value
      const $email = document.forms["signUp"]["email"].value
      const $password = document.forms["signUp"]["password"].value
      
      const req = {
        firstName: $firstName,
        lastName: $lastName,
        email: $email,
        password: $password
      }
      return JSON.stringify(req);
     }

    function auth() {
    // fetch("http://api-ucdb.herokuapp.com/api/v1/users/", {
    fetch("https://ucdb-plataform1.herokuapp.com/api/v1/users/", {
      method: 'POST',
      headers: {'Content-Type': 'application/json; charset=utf-8'},
      body: data()
      })
    .then(response => {
      if(!response.ok)
          throw new Error("não foi possível completar cadastro");
      return response.text();
    })
    .then(data => alert(data));
    return true;
}
</script>
</body>
</html>